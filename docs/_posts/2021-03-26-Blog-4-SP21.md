---
layout: post
title:  "Blog 4-SP21"
date:   2021-03-26 00:00:00 -0700
categories: jekyll update
---
While setting up a redundantly available webserver, my team and I have run into a problem with using a load balancer. The issue we were having was that the load balancer couldn't see the instances as healthy. The AWS console showed that these instances were on and weren't encountering errors. We went through many steps in troubleshooting this issue and found out that the security group we put the webserver instances in wasn't allowing HTTP/HTTPS traffic. This was a simple fix and once we changed the rules in the security group to allow HTTP/HTTPS traffic we didn't have any errors. With our fix, the load balancer could see that the servers were healthy and we proceeded to make a third server.

AWS load balancers could only see instances that it could hit with a networking command. This command is ping and you can set the target to whatever you want. For example, we have the command set to ping on port 80 for <code>index.html</code>. In the AWS console, you can also customize how often and how long it would wait for the instance to become unhealthy. If the instance is seen as unhealthy a certain number of times (this can also be customized) the load balancer wouldn't route traffic to that instance. The use of a load balancer is not only to distribute traffic across different instances, but it also acts as a way to make sure traffic can reach it's destination. Using a load balancer (specifically  a classic load balancer on AWS) would evenly distribute traffic across the different healthy instances it can see. The key phrase in that statement is "can see" so if there is a networking rule blocking or not allowing the method of communication it is trying to use, it would just see that instance as unhealthy.